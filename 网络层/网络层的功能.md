<font size = 9>$$网络层的功能$$</font>



网络层的功能有 **异构网络互联**、**路由与转发**、**拥塞控制**。

- **IP 地址** 用 **32 bit** 表示。常以 **8 bit 为一组**，记为 **十进制数**。
  - 每组的合法范围是 **0 ~ 255**。

- **网络层** 为 **传输层** 提供服务，将传输层的数据封装成 **IP 数据报**。
  - 网络中的路由器根据 IP 数据报首部中的 **源 IP 地址**、**目的 IP 地址** 进行分组转发。从而，网络层实现了 **主机到主机** 的传输。
  - **数据链路层** 为 **网络层** 提供服务，将网络层的 **IP 数据报（分组）** 封装成 **帧**，传输给下一个 **相邻节点**。



# 一、异构网络互联

**异构**：每个网络的拓扑结构不同、物理层和链路层的实现不同、主机类型也各不相同。

- 重要的设备：**路由器（Router）**

- 注意：在 TCP/IP 文献中，**路由器** 也称 **网关（Gateway）**。





# 二、路由与转发

## （一）路由

**路由**：**各个路由器之间相互配合**，规划 IP 数据报（分组）的最佳转发路径。

- 注意：各个路由器需要运行 **路由协议**，最终生成各自的 **路由表**。




## （二）转发

**转发**：**一台路由器**，根据自己的 **转发表**，将收到的 IP 数据报从合适的接口转发出去。

- 注意：**转发表 = 精简版路由表**
  - 更精简的数据结构有助于快速检索。





# 三、拥塞控制

## （一）拥塞

原因：网络上出现过量分组，超负荷，引起网络性能下降。

现象：网络上的分组数增加，但吞吐量反而降低。

类比：节假日路上的车辆增多到一定程度时，收费站的吞吐量反而降低。




## （二）拥塞控制的方法

1. **开环控制（静态的方法）**：在部署网络时，就提前设计好预防拥塞的方法。一旦网络系统开始运行，就不再修改。

2. **闭环控制（动态的方法）**
   - 动态监视网络状态，及时发现哪里发生拥塞，并将拥塞信息传递给相关路由器。
   - 相关路由器及时调整路由表。